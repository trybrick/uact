/*!
 * uact
 * UTM auto click tracker

 * Date: 2022-07-01T04:42:14.331Z
 *
 * @version v0.6.1
 * @author Tom Noogen
 * @homepage https://github.com/trybrick/uact
 * @repository https://github.com/trybrick/uact.git
 */
/*! For license information please see uact.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("uact",[],t):"object"==typeof exports?exports.uact=t():e.uact=t()}(self,(function(){return function(){var e={198:function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}({"+VvR":function(e,t){e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r)return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild);var i,a=o[r]||o._default,s=a[0],c=a[1],u=a[2];for((i=t.createElement("div")).innerHTML=c+e+u;s--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var l=t.createDocumentFragment();i.firstChild;)l.appendChild(i.removeChild(i.firstChild));return l};var n,r=!1;"undefined"!=typeof document&&((n=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',r=!n.getElementsByTagName("link").length,n=void 0);var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.polyline=o.ellipse=o.polygon=o.circle=o.text=o.line=o.path=o.rect=o.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},0:function(e,t,n){e.exports=n("tjUo")},"3JDX":function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function a(...e){if(!a.enabled)return;const t=a,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return n;s++;const i=r.formatters[o];if("function"==typeof i){const r=e[s];n=i.call(t,r),e.splice(s,1),s--}return n})),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(a),...r.skips.map(a).map((e=>"-"+e))].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n("FGiv"),Object.keys(e).forEach((t=>{r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},"8oxB":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},FGiv:function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function c(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=i?c(e,t,i,"day"):t>=o?c(e,t,o,"hour"):t>=r?c(e,t,r,"minute"):t>=n?c(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},NOtv:function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("3JDX")(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n("8oxB"))},Ogr1:function(e,t,n){var r=n("VUBM")("cookie");function o(e,t,n){n=n||{};var r=s(e)+"="+s(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function i(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,n={},r=e.split(/ *; */);if(""==r[0])return n;for(var o=0;o<r.length;++o)n[c((t=r[o].split("="))[0])]=c(t[1]);return n}(e)}function a(e){return i()[e]}function s(e){try{return encodeURIComponent(e)}catch(t){r("error `encode(%o)` - %o",e,t)}}function c(e){try{return decodeURIComponent(e)}catch(t){r("error `decode(%o)` - %o",e,t)}}e.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return o(e,t,n);case 1:return a(e);default:return i()}}},VUBM:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n("ngqJ")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(r())},cpc2:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},ngqJ:function(e,t,n){(t=e.exports=function(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[o++%t.colors.length]);var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(e,i),s.splice(c,1),c--}return n})),"function"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s)),(i.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("zCaB"),t.names=[],t.skips=[],t.formatters={};var r,o=0},"sBL/":function(e,t){function n(e,t,n){var r,o,i,a,s;function c(){var u=Date.now()-a;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var u=function(){i=this,o=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(s=e.apply(i,o),i=o=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},u}n.debounce=n,e.exports=n},tjUo:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n("+VvR"),a=n("cpc2"),s=n("sBL/"),c=n("Ogr1"),u=n("NOtv"),l={navigator:{userAgent:""},location:{protocol:"file",hostname:""}},f={},d=Array.prototype,h=Object.prototype,p=d.slice,g=h.hasOwnProperty,y=d.forEach,m=d.map,v=d.some,b=d.indexOf,C=Object.keys;function w(e,t){return null==e||"null"===e?t:e}"undefined"!=typeof window&&(l=window);var x=l.navigator.userAgent||"";function k(e,t){return g.call(e,t)}function F(e){if(C)return C(e);if(e!==Object(e))throw new TypeError("Invalid object");var t,n=[];for(t in e)k(e,t)&&n.push(t);return n}function E(e,t,n){if(null!==w(e,null))if(y&&e.forEach===y)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e)===f)return}else for(var i=F(e),a=0,s=i.length;a<s;a++)if(t.call(n,e[i[a]],i[a],e)===f)return}var S=function(){function e(){var t,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name="Wu",this.browser={isIE:(t=x,n=t.indexOf("MSIE "),r=t.indexOf("Trident/"),o=t.indexOf("rv:"),n>0?parseInt(t.substring(n+5,t.indexOf(".",n)),10):r>0&&parseInt(t.substring(o+3,t.indexOf(".",o)),10)),isMobile:/iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/gi.test(x),isAndroid:/(android)/gi.test(x),isIOS:/iP(hone|od|ad)/gi.test(x)},this.has=k,this.keys=F,this.each=this.forEach=E,this.isNull=w,this.win=l,this.doc=this.win.document||{},this.collect=this.map,this.any=this.some,this.attr=this.getAttribute=this.getAttr,this.setAttribute=this.setAttr,this.emitter=a,this.domify=i,this.debounce=s,this.cookie=c,this.debug=u,void 0===this.win.console&&(this.win.console={log:function(){}},this.win.console.error=this.win.console.debug=this.win.console.info=this.win.console.log);var f=this.trim(this.win.location.hostname.toLowerCase());this.site={hostname:f,domain:f.replace("www.",""),config:{}}}var t,n,d;return t=e,(n=[{key:"addEvent",value:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(t,n):this.getAttr(e,"on"+t)?e["on"+t]=n:e[t]=n,this}},{key:"removeEvent",value:function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent(t,n):this.getAttr(e,"on"+t)?e["on"+t]=null:e[t]=null,this}},{key:"decode",value:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}},{key:"encode",value:function(e){try{return encodeURIComponent(e)}catch(t){return e}}},{key:"geoDistance",value:function(e,t,n,r,o){function i(e){return e*Math.PI/180}var a={latitude:e,longitude:t},s={latitude:n,longitude:r},c={km:6371,mile:3960,meter:6371e3,nmi:3440},u=(o=o||{}).unit in c?c[o.unit]:c.km,l=i(s.latitude-a.latitude),f=i(s.longitude-a.longitude),d=i(a.latitude),h=i(s.latitude),p=Math.sin(l/2)*Math.sin(l/2)+Math.sin(f/2)*Math.sin(f/2)*Math.cos(d)*Math.cos(h),g=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return o.threshold?o.threshold>u*g:u*g}},{key:"geoOrderByOrigin",value:function(e,t,n){var r=this,o={origin:t,results:[]};return E(e,(function(e){var n=r.geoDistance(t.Latitude,t.Longitude,e.Latitude,e.Longitude,{unit:"mile"}),i={point:e,distance:parseFloat(r.isNull(n,0))};o.results.push(i)})),this.sortOn(o.results,"distance"),n(o),this}},{key:"geoOrderByIP",value:function(e,t,n){var r=this;return r.geoByIP(t,(function(t){t.latitude&&(t.Latitude=t.latitude,t.Longitude=t.longitude,r.geoOrderByOrigin(e,t,n))})),r}},{key:"geoByIP",value:function(e,t){this.jsonp(e||"//freegeoip.net/json/",t)}},{key:"getAjaxObject",value:function(){return"XMLHttpRequest"in window?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}},{key:"getAttr",value:function(e,t,n){if(arguments.length>2)return this.setAttr(e,t,n);var r=e[0]||e;return r.getAttribute?r.getAttribute(t):r[t]}},{key:"getAttrs",value:function(e,t){var n={},r=this;return E(["","data-"],(function(o,i){E(t||[],(function(t,i){var a=r.getAttr(e,o+i);a&&(n[i]=a)}))})),n}},{key:"setAttr",value:function(e,t,n){var r=e[0]||e;return r.setAttribute?r.setAttribute(t,n):r[t]=n,n}},{key:"setAttrs",value:function(e,t){var n=e[0]||e,r=this;return E(t||[],(function(e,t){r.setAttr(n,t,e)})),n}},{key:"contains",value:function(e,t){return null!==this.isNull(e,null)&&(b&&e.indexOf===b?-1!==e.indexOf(t):this.any(e,(function(e){return e===t})))}},{key:"createiFrame",value:function(e,t){var n=this.doc.createElement("iframe");return e&&(n.id=e),t&&(n.className=t),n.frameBorder="0",n.marginWidth="0",n.marginHeight="0",n.setAttribute("border","0"),n.setAttribute("allowtransparency","true"),n.width="100%",n.height="100%",n}},{key:"del",value:function(e,t){e[t]=void 0;try{delete e[t]}catch(r){var n={};return E(e,(function(e,r){r!==t&&(n[r]=e)})),n}return e}},{key:"defaults",value:function(e){return E(p.call(arguments,1),(function(t){void 0!==t&&E(t,(function(t,n){null===w(e[n],null)&&(e[n]=t)}))})),e}},{key:"extend",value:function(e){return E(p.call(arguments,1),(function(t){void 0!==t&&E(t,(function(t,n){null!==w(t,null)&&(e[n]=t)}))})),e}},{key:"groupBy",value:function(e,t,n){if(null===this.isNull(e,null))return[];var r=[],o={};E(e,(function(e){var n=e[t],r=o[n];null===w(r,null)&&(r={key:n,items:[]},o[n]=r),r.items.push(e)}));var i=0;return E(o,(function(e){e.$idx=i++,r.push(e),n&&n(e)})),this.sortOn(r,"key")}},{key:"hasCls",value:function(e,t){var n,r,o,i,a;for(r=n=0,o=(i=t.split(" ")).length;n<o;r=++n)if(a=i[r],(" "+e.className+" ").indexOf(" "+a+" ")>=0)return!0;return!1}},{key:"injectStyle",value:function(e,t){var n,r;return(n=this.doc.getElementById(e))||((n=this.doc.createElement("style")).id=e,n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(this.doc.createTextNode(t)),(r=(r=this.doc.getElementsByTagName("link")[0])||(this.doc.head||this.doc.getElementsByTagName("head")[0]).lastChild).parentNode.insertBefore(n,r)),this}},{key:"jsonp",value:function(e,t){var n="wucb"+(new Date).getTime();this.win[n]=function(e){var n=e;"string"==typeof e&&(n="null"===e?null:JSON.parse(e)),t(n)},e+=(e.indexOf("?")>0?"&":"?")+"callback="+n,this.loadScript(e)}},{key:"loadScript",value:function(e,t){var n;function r(){void 0!==this.readyState&&"complete"!==this.readyState||"function"==typeof t&&t()}e.indexOf("//")<0&&(e="http:"+e),"file"===(l.location||{}).protocol&&(e=e.replace("https://","http://")),(n=this.doc.createElement("script")).type="text/javascript",n.src=e,t&&(n.onload=r,n.onreadystatechange=r),this.doc.body.appendChild(n)}},{key:"loadScripts",value:function(e,t){var n,r=this;this.isNull(e.length,0)<=0?"function"==typeof t&&t():("string"==typeof e&&(e=[e]),n=[].concat(e),function e(){if(n.length<=0)"function"==typeof t&&t();else{var o=n[0];n.splice(0,1),r.loadScript(o,e)}}())}},{key:"loadiFrame",value:function(e,t,n,r){var o=this.createiFrame(n,r);if(e[0].appendChild(o),o.contentWindow)o.contentWindow.contents=t,o.src='javascript:window["contents"]';else{var i=o.contentDocument||o.document;i.open(),i.write(t),i.close()}return o}},{key:"map",value:function(e,t,n){var r=[];return null===this.isNull(e,null)?r:m&&e.map===m?e.map(t,n):(E(e,(function(e,o,i){r.push(t.call(n,e,o,i))})),r)}},{key:"mapObject",value:function(e,t){var n={};return e&&(this.isNull(e.length,-1)<0?n[e[t]]=e:this.map(e,(function(e,r){var o=e[t],i=n[o];i?("[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),i.push(e)):i=e,n[o]=i}))),n}},{key:"queryParseString",value:function(e){e=(e||"").replace("?","").replace("#","");for(var t=/(\w+)\[(\d+)\]/,n=this.decode,r={},o=e.split("&"),i=0;i<o.length;i++){var a=o[i].split("="),s=n(a[0]),c=t.exec(s);c?(r[c[1]]=r[c[1]]||[],r[c[1]][c[2]]=n(a[1])):r[a[0]]=n(a[1]||"")}return r}},{key:"queryStringify",value:function(e,t){var n,o=this.encode,i=[];for(n in e)if(e.hasOwnProperty(n)){var a=t?t+"["+n+"]":n,s=e[n];i.push(null!==s&&"object"===r(s)?this.queryStringify(s,a):o(a)+"="+o(s))}return i.join("&")}},{key:"request",value:function(e,t,n){return e.headers=e.headers||{},["HEAD","GET","DELETE"].indexOf(e.method)>-1?e.data&&(e.url+=(e.url.indexOf("?")>0?"?":"&")+this.queryStringify(e.data),e=this.del(e,"data")):"string"!=typeof e.data&&((e.headers["Content-Type"]+"").indexOf("json")>0?e.data=JSON.stringify(e):e.data=this.queryStringify(e)),this.xhr(e,t,n)}},{key:"slugify",value:function(e){return""===(e=e||"")?e:e=e.toLowerCase().replace(/[^0-9a-z\-\_]+/gi,"-").replace(/[\-]+/gi,"-")}},{key:"some",value:function(e,t,n){var r=!1;return t=t||function(e){return e},null===this.isNull(e,null)?r:v&&e.some===v?e.some(t,n):(E(e,(function(e,o,i){return r||(r=t.call(n,e,o,i))?f:null})),r)}},{key:"sortOn",value:function(e,t){return null===this.isNull(e,null)?null:e.length<=0?[]:("string"==typeof e[0][t]?e.sort((function(e,n){return(e[t]&&e[t].toLowerCase())<(n[t]&&n[t].toLowerCase())?-1:(e[t]&&e[t].toLowerCase())>(n[t]&&n[t].toLowerCase())?1:0})):e.sort((function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0})),e)}},{key:"trim",value:function(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}},{key:"uuid",value:function(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,this.uuid)}},{key:"xhr",value:function(e,t,n){var r=e;"string"==typeof r&&((e=e||{}).url=r);var o=this.getAjaxObject();return e.withCredentials&&(o.withCredentials=!0,"undefined"!=typeof XDomainRequest&&(o=new XDomainRequest)),e&&0!==e.length||n({xhr:o,error:new Error("xhr expects an url or an options object, none given.")}),e.method=e.method||"GET",o.open(e.method,e.url,o.withCredentials),E(e.headers||{},(function(e,t){o.setRequestHeader(t,e)})),this.addEvent(o,"readystatechange",(function(){4===o.readyState&&o.status>=200&&o.status<400?t({xhr:o,text:o.responseText,url:o.responseURL}):4===o.readyState&&n({xhr:o})})),this.addEvent(o,"error",(function(e){n({xhr:o,error:e})})),e.nosend||o.send(e.data||void 0),o}},{key:"name",get:function(){return this._name}}])&&o(t.prototype,n),d&&o(t,d),e}();e.exports=S},zCaB:function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if(!((e=""+e).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}}}(e):t.long?s(c=e,i,"day")||s(c,o,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=o?Math.round(e/o)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);var c}}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,{default:function(){return f}});var t=void 0,o=new(n(198)),i=o.doc.querySelector('script[src*="uact.js"],script[src*="uact.min.js"]');if(!i){var a=o.doc.getElementsByTagName("script");i=o.doc.currentScript||a[a.length-1]}var s=i?i.src.split("?")[1]:"",c=(o.win.location.search+"").substring(1),u=o.getAttrs(i);s&&(u=o.extend(u,o.queryParseString(s))),o.win.Element&&!o.win.Element.prototype.closest&&(o.win.Element.prototype.closest=function(e){var n,r=(t.document||o.win.ownerDocument).querySelectorAll(e),i=t;do{for(n=r.length;--n>=0&&r.item(n)!==i;);}while(n<0&&(i=i.parentElement));return i});var l=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.wu=o,this.log=o.debug("uact"),this._name="Uact",this.init()}var n,r,i;return n=t,r=[{key:"name",get:function(){return this._name}},{key:"slugify",value:function(e){return(e||"").toLowerCase().replace(/[^0-9a-z_-]+/g,"-").replace(/-{2,}/g,"-")}},{key:"pushEvent",value:function(e){var t=JSON.parse(o.win.localStorage.getItem("brxe")||"[]");t.push(e),o.win.localStorage.setItem("brxe",JSON.stringify(t))}},{key:"processEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=JSON.parse(o.win.localStorage.getItem("brxe")||"[]"),r=n[0]||"";if(r.length>0){var i=new Image(1,1);t.log("event: ".concat(r)),e?(n.shift(),o.win.localStorage.setItem("brxe",JSON.stringify(n))):o.addEvent(i,"load",(function(){n.shift(),o.win.localStorage.setItem("brxe",JSON.stringify(n))})),i.src=r}return n}},{key:"appendQuery",value:function(e,t){var n=this,r=o.isNull(e,"/")||"/",i=r.split("#");return n.log("updating ".concat(r)),r.indexOf("/")>-1?/\w+:\w+/gi.test(r)||r.toLowerCase().indexOf("javascript:")>-1||r.toLowerCase().indexOf("utm_")>-1?(n.log("update skip [".concat(r,"]")),e):(i[0]=i[0]+(i[0].indexOf("?")<0?"?":"&")+t,i[1]&&(i[0]=i[0]+"#"+i[1]),n.log("update from [".concat(r,"] to [").concat(i[0],"]")),i[0]):(n.log("skipping [".concat(r,"]")),e)}},{key:"getUtmQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};if(c){var n=o.queryParseString(c);o.each(n,(function(e,n){t[n.toLowerCase()]=e}))}try{if(t.utm_campaign)o.win.sessionStorage.setItem("brxutm","true"),o.cookie("brxutmquery",JSON.stringify(t));else{var r=o.cookie("brxutmquery");r&&r.indexOf("{")>-1&&(t=JSON.parse(r))}}catch(e){o.debug(e)}return e?t:o.queryStringify(t)}},{key:"init",value:function(){var e=this,t=o.queryParseString(c);t.debug&&o.debug.enable(t.debug),e.setupHandlers();var n=e.getUtmQuery(!1);!u.disableDeepTracking&&n.indexOf("utm_")>-1&&(e.log("begin updating anchors"),o.win.setTimeout((function(){try{if((o.win.sessionStorage.getItem("brxutm")||o.win.sessionStorage.brxutm)&&c.indexOf("utm_")<0){var t=e.appendQuery(c,n);o.win.history.pushState("","",t)}var r,i=document.querySelectorAll("a");for(e.log("anchors count ".concat(i.length)),r=0;r<i.length;++r){var a=i[r],s=o.getAttr(a,"href"),l=e.appendQuery(s,n);s!==l&&o.setAttr(a,"href",l)}void 0===u.site&&(u.site=o.win.brxSite)}catch(e){o.debug(e)}}),2e3))}},{key:"setupHandlers",value:function(){var e=this,t=e.getUtmQuery(!0);if(o.isNull(t.utm_campaign,"").length<2)return e.log("exiting: invalid utm_campaign"),t;function n(n){var r=n||e.win.event,i=r.target||r.srcElement,a=i.closest("button"),s={query:t},c=(i.tagName+"").toLowerCase();if("input"===c){var l=i.type.toLowerCase();if("submit"!==l&&"button"!==l)return void e.log("exiting from ".concat(n.type," - ignoring input type ").concat(l));s.action=i.name||i.id||n.type||"input button",s.label=i.value}else if("select"===c&&i.options&&i.selectedIndex){var f=i.options[i.selectedIndex];f&&(s.action=i.name||i.id||n.type||"select",s.label="".concat(f.value))}else if(a)s.action=a.name||a.id||n.type||"button",s.label=a.textContent||a.innerText||s.action;else{if("change"===n.type)return void e.log("exiting from non-select change event");if("submit"===n.type)s.action=n.type,s.label=i.action;else{var d=i.closest("a");if("A"!==c&&!d)return void e.log("exiting from ".concat(n.type," event with no valid parent element"));s.action="link",s.label=o.getAttr(d,"href"),s.value=e.slugify(d.textContent||d.innerText)}}if(s.action){e.log("triggering..."),e.log(s);var h=u.site||o.win.brxSite;if(h){var p={site:h,ec:s.action||n.type,el:s.label,ev:s.value,utmn:s.query.utm_campaign,utms:s.query.utm_source,utmm:s.query.utm_medium,utmc:s.query.utm_content,utmt:s.query.utm_term};for(var g in p)null!==p[g]&&void 0!==p[g]||delete p[g];p.page=o.win.location.pathname.toLowerCase(),p.ts="".concat((new Date).getTime()),e.pushEvent("https://pi.brickinc.net/shake/?".concat(o.queryStringify(p))),e.processEvents(!1)}if(void 0!==o.win.dataLayer){var y=o.win.dataLayer||[],m=o.win.gtag||function(){y.push(arguments)};m("event","uact",{event_action:s.action,event_category:s.category,event_label:s.label||s.action,event_value:s.value})}void 0!==o.win.ga&&o.win.ga.getAll().forEach((function(e){o.win.ga(e.get("name")+".send","event",s.category,s.action,s.label||s.action,s.value)}))}else e.log("exiting from ".concat(n.type," - no action to log"))}e.actionHandler=n,o.addEvent(o.doc,"click",n),o.addEvent(o.doc,"tap",n),o.addEvent(o.doc,"change",n),o.addEvent(o.doc,"submit",n);var r,i=document.querySelectorAll('a[href^="tel:"');for(r=0;r<i.length;++r)o.addEvent(i[r],"click",n);for(var a=e.processEvents(!0);a.length>0;)a=e.processEvents(!0);return t}}],r&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),f=new l}(),r}()}));
//# sourceMappingURL=uact.min.js.map